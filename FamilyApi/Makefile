#############################################################################
# Makefile for building: FamilyTree
# Generated by Szymon Stefanczyk
#############################################################################

CC            = gcc
CXX           = g++
DEFINES       =
CFLAGS        = -O2 -Wall $(DEFINES)
CXXFLAGS      = -O2 -frtti -fexceptions -mthreads -Wall $(DEFINES)
INCPATH       = -I'.' -I'./inc'
LINK          = ar
LFLAGS        = dc
LIBS          = -L'./lib' -lmingw3
MKDIR         = mkdir
RMDIR         = rm -rfv

####### Output directory
OBJECTS_DIR   = release/

SOURCES       = MemberClass.cpp \
		DexDBWrapper.cpp \
		DateClass.cpp 
OBJECTS       = release/MemberClass.o \
		release/DexDBWrapper.o \
		release/DateClass.o 
INCLUDES      = inc/MemberClass.h \
		inc/DexDBWrapper.h \
		inc/DateClass.h \
		inc/DBWrapper.h 

RELEASE        = release
DESTDIR        = target
DESTDIR_TARGET = target/treeAPI.a


####### Implicit rules

.SUFFIXES: .cpp .cc .cxx .c

.cpp.o:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $<

.cc.o:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $<

.cxx.o:
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $<

.c.o:
	$(CC) -c $(CFLAGS) $(INCPATH) -o $@ $<

####build rules

first: all
all: Makefile  $(DESTDIR_TARGET)

$(DESTDIR_TARGET): $(DESTDIR) $(RELEASE) $(OBJECTS)
	$(LINK) $(LFLAGS) $(DESTDIR_TARGET) $(OBJECTS)
	
release/MemberClass.o: src/MemberClass.cpp $(INCLUDES)
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $<

release/DexDBWrapper.o: src/DexDBWrapper.cpp $(INCLUDES)
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $<

release/DateClass.o: src/DateClass.cpp $(INCLUDES)
	$(CXX) -c $(CXXFLAGS) $(INCPATH) -o $@ $<

target:
	$(MKDIR) $(DESTDIR)

release:
	$(MKDIR) $(RELEASE)

clean:
	$(RMDIR) $(DESTDIR)
	$(RMDIR) $(RELEASE)